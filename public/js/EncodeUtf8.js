function EncodeUtf8(a){var e,b=escape(a),c=b.split("%"),d="";for(""!=c[0]&&(d=c[0]),e=1;e<c.length;e++)d+="u"==c[e].substring(0,1)?fb(fa(c[e].substring(1,5))):"%"+c[e];return d}function fa(s){var n,i,c="",ss="0123456789ABCDEF",digS="";for(i=0;i<s.length;i++)c=s.charAt(i),n=ss.indexOf(c),digS+=fc(eval(n));return digS}function fc(a){var d,b="",c=0;for(d=0;4>d;d++)c=Math.pow(2,3-d),a>=c?(b+="1",a-=c):b+="0";return b}function fd(s){var i,retV=0;if(4==s.length){for(i=0;4>i;i++)retV+=eval(s.charAt(i))*Math.pow(2,3-i);return retV}return-1}function fb(s){var sss,i,retS="",tempS="",ss="";if(16==s.length){for(tempS="1110"+s.substring(0,4),tempS+="10"+s.substring(4,10),tempS+="10"+s.substring(10,16),sss="0123456789ABCDEF",i=0;3>i;i++)retS+="%",ss=tempS.substring(8*i,8*(eval(i)+1)),retS+=sss.charAt(fd(ss.substring(0,4))),retS+=sss.charAt(fd(ss.substring(4,8)));return retS}return""}